{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["addFilter","wp","hooks","createHigherOrderComponent","compose","Fragment","element","InspectorControls","editor","components","PanelBody","SelectControl","ToggleControl","TextControl","TextareaControl","ememberScope","value","label","addEmemberControlAttribute","settings","attributes","ememberProtect","type","default","ememberProtectAttrs","for","not_for","member_id","scope","do_not_show_restricted_msg","do_not_show_expired_msg","custom_msg","ememberProtectionControlls","BlockEdit","props","setAttributes","saveObject","key","For"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","const { addFilter } = wp.hooks;\nconst { createHigherOrderComponent } = wp.compose;\nconst { Fragment } = wp.element;\nconst { InspectorControls } = wp.editor;\nconst {\n  PanelBody,\n  SelectControl,\n  ToggleControl,\n  TextControl,\n  TextareaControl\n} = wp.components;\n\nconst ememberScope = [\n  { value: \"\", label: \"Not Set\" },\n  { value: \"verified_users_only\", label: \"Verified users only\" },\n  { value: \"not_logged_in_users_only\", label: \"Not logged in users only\" },\n  { value: \"expired\", label: \"Expired members only\" }\n];\n\nconst addEmemberControlAttribute = settings => {\n  settings.attributes = {\n    ...settings.attributes,\n    ememberProtect: {\n      type: \"boolean\",\n      default: false\n    },\n    ememberProtectAttrs: {\n      type: \"object\",\n      default: {\n        for: \"\",\n        not_for: \"\",\n        member_id: \"\",\n        scope: ememberScope[0].value,\n        do_not_show_restricted_msg: false,\n        do_not_show_expired_msg: false,\n        custom_msg: \"\"\n      }\n    }\n  };\n\n  return settings;\n};\n\naddFilter(\n  \"blocks.registerBlockType\",\n  \"gep/protectAttribute\",\n  addEmemberControlAttribute\n);\n\nconst ememberProtectionControlls = createHigherOrderComponent(BlockEdit => {\n  return props => {\n    const { ememberProtect, ememberProtectAttrs } = props.attributes;\n    const { setAttributes } = props;\n    function saveObject(key, value) {\n      setAttributes({\n        ememberProtectAttrs: { ...ememberProtectAttrs, [key]: value }\n      });\n    }\n\n    return (\n      <Fragment>\n        <BlockEdit {...props} />\n        <InspectorControls>\n          <PanelBody title={\"Protect with WP-eMember\"} initialOpen={false}>\n            <ToggleControl\n              label={\"Protect Block\"}\n              checked={!!ememberProtect}\n              onChange={() => {\n                setAttributes({\n                  ememberProtect: !ememberProtect\n                });\n              }}\n            />\n            {ememberProtect && (\n              <TextControl\n                label=\"Show for level(s)\"\n                value={ememberProtectAttrs.for}\n                onChange={For => saveObject(\"for\", For)}\n              />\n            )}\n            {ememberProtect && (\n              <TextControl\n                label=\"Hide for level(s)\"\n                value={ememberProtectAttrs.not_for}\n                onChange={not_for => saveObject(\"not_for\", not_for)}\n              />\n            )}\n            {ememberProtect && (\n              <TextControl\n                label=\"Show for member(s)\"\n                value={ememberProtectAttrs.member_id}\n                onChange={member_id => saveObject(\"member_id\", member_id)}\n              />\n            )}\n            {ememberProtect && (\n              <SelectControl\n                label=\"Show for scope\"\n                value={ememberProtectAttrs.scope}\n                options={ememberScope}\n                onChange={scope => saveObject(\"scope\", scope)}\n              />\n            )}\n            {ememberProtect && (\n              <ToggleControl\n                label={\"Hide restriction message\"}\n                checked={!!ememberProtectAttrs.do_not_show_restricted_msg}\n                onChange={() =>\n                  saveObject(\n                    \"do_not_show_restricted_msg\",\n                    !ememberProtectAttrs.do_not_show_restricted_msg\n                  )\n                }\n              />\n            )}\n            {ememberProtect && (\n              <ToggleControl\n                label={\"Hide expiration message\"}\n                checked={!!ememberProtectAttrs.do_not_show_expired_msg}\n                onChange={() =>\n                  saveObject(\n                    \"do_not_show_expired_msg\",\n                    !ememberProtectAttrs.do_not_show_expired_msg\n                  )\n                }\n              />\n            )}\n            {ememberProtect && (\n              <TextareaControl\n                label=\"Custom Message\"\n                value={ememberProtectAttrs.custom_msg}\n                onChange={custom_msg => setAttributes(\"custom_msg\", custom_msg)}\n              />\n            )}\n          </PanelBody>\n        </InspectorControls>\n      </Fragment>\n    );\n  };\n}, \"ememberProtectionControlls\");\n\naddFilter(\n  \"editor.BlockEdit\",\n  \"gep/protectControlls\",\n  ememberProtectionControlls\n);\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}